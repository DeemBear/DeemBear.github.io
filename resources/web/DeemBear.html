<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="utf-8">
    <title id="docTitle">DeemBear:聊天</title>
    <link rel="stylesheet" href="./css/github-markdown-css.css">
    <link rel="stylesheet" href="./css/katex.min.css">
    <link rel="stylesheet" href="./css/bing.css">
    <script src="./js/other/marked.min.js"></script>
    <script src="./js/other/katex.min.js"></script>
    <script src="./js/other/auto-render.min.js"></script>
    <script src="./js/DeemBear.js" type="module"></script>
    <script src="js/other/stats.js"></script>
</head>

<body class="b">
<div id="background"></div>
<div id="head">
    <div id='head-img-div'>
        <img src="./img/nasapod128x128.png" alt="图标">
        <div id='head-img-div-h2-img'>
            <h2>DeemBear</h2>
            <h3 id="goGoSubtitle">想发什么呢？让我帮你！</h3>
        </div>
    </div>

        <!-- 添加一个下拉选项框 -->
        <select id="actSelect" class="selector">
            <!-- 默认选项为空 -->
            <option value="">请选择</option>
        </select>

    <div id='head-li-div'>
        <a href="https://ai.deembear.top" target="_blank">Bing</a>
        <a href="https://ci.deembear.top" target="_blank">Claude</a>
        <a href="https://my.deembear.top" target="_blank">ChatGPT</a>
        <a href="./DrawImg.html" target="_blank">画图</a>
        <a href="./Write.html" target="_blank">创作</a>
        <li id="showChatRecords">聊天记录</li>
    </div>
</div>

<!-- 输入框部分 -->
<div id="tail">
    <div id="tail-in">
        <input id="restart" type="button" value="开始新主题">

        <!-- 输入框 -->
        <div id="input-div">
            <textarea id="input" type="text" enterkeyhint="send" autocapitalize="off" autocomplete="off" aria-autocomplete="both" spellcheck="false" aria-label="询问必应" autocorrect="off" placeholder="有问题尽管问我..."></textarea>
            <div id="input-div-box">
                <div id="expand">➤</div>
                <input style="opacity: 0" id="send" class="ThemeColors" type="button" value="发送">
            </div>

            <!-- 提示词 -->
            <div id="cueWord-box">
                <div id="cueWord-selects">
                    <h3 id="cueWord-selects-h3">使用提示词优化回答</h3>
                    <div id="cueWord-search">
                        <input type="text" placeholder="搜索提示词.." id="cueWord-search-input">
                    </div>
                    <div id="cueWord-selects-list">
                    </div>
                </div>
                <div id="cueWord-selected">

                </div>
            </div>
        </div>
    </div>
    <div id="SearchSuggestions">
    </div>
</div>

<div id="body">
    <div id="body-top"></div>
    <div style="text-align: center;">
        <h1>DeemBear</h1>
        <h2>简单的开始和NewBing聊天</h2>
    </div>
    <div id="chatTypeDiv" style="opacity: 1;">
        <div class="chatTypeChose" id="chatTypeChoseCreate">
            <p>更多</p>
            <h3>有创造力</h3>
        </div>
        <div class="chatTypeChose Chose" id="chatTypeChoseBalance">
            <p>更多</p>
            <h3>平衡</h3>
        </div>
        <div class="chatTypeChose" id="chatTypeChoseAccurate">
            <p>更多</p>
            <h3>准确</h3>
        </div>
    </div>
    <div id="chat">
        <div class="bing">
            <div class="adaptiveCardsFatherDIV">
                <div class="textBlock markdown-body">
                    正在加载，请稍等一会！
                </div>
                <div class="throttling">
                    0 / 0
                </div>
            </div>
        </div>
    </div>
    <div id="body-bottom"></div>
</div>
<!-- 聊天记录 -->
<div id="ChatRecordsListDivOut">
    <div id="ChatRecordsListIn" class="ThemeColors">
        <li id="ChatRecordsNameli">
            <div id="ChatRecordsServer">新建</div>
        </li>
        <div id="ChatRecordsListDiv">
            <div>
                <h3>开发时测试，开发时测试</h3>
                <p>到时候这个会被覆盖掉，反正也不显示。懒得删了</p>
            </div>
        </div>
    </div>
</div>

<style>
select {
  max-width:139px;
}
option {
  max-width:139px;
}
</style>
<script>
// 定义一个变量存储json文件的内容
let aJson;

// 使用fetch函数获取json文件的内容，并转换为json对象
fetch('https://raw.githubusercontent.com/DeemBear/DeemBear.github.io/main/resources/prompts-my.json')
  .then(response => response.json())
  .then(data => {
    // 将json对象赋值给aJson变量
    aJson = data;
    // 遍历json对象中的每个元素
    for (let item of aJson) {
      // 获取act值
      let act = item.act;
      // 创建一个option元素
      let option = document.createElement('option');
      // 设置option元素的value属性为act值
      option.value = act;
      // 设置option元素的文本内容为act值
      option.textContent = act;
      // 获取下拉选项框元素
      let actSelect = document.getElementById('actSelect');
      // 将option元素添加到下拉选项框中
      actSelect.appendChild(option);
    }
  });

// 给下拉选项框添加一个change事件监听器
document.getElementById('actSelect').addEventListener('change', function() {
  // 获取下拉选项框中选中的值
  let selectedAct = this.value;
  // 如果选中的值不为空
  if (selectedAct) {
    // 遍历json对象中的每个元素
    for (let item of aJson) {
      // 如果元素的ac值与选中的值相同
      if (item.act === selectedAct) {
        // 获取prompt值
        let prompt = item.prompt;
        // 获取用户输入的文本输入框元素
        let userInput = document.getElementById('input');
        // 将文本输入框的值设置为prompt值
        userInput.value = prompt;
        // 跳出循环
        break;
      }
    }
  }
});
</script>
</body>

</html>